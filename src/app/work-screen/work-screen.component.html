<section @loadPage id="note-header">
  <section id="note-header-left">
    <mat-icon (click)="back()" mdTooltip="choose a different note">arrow_back</mat-icon>

    <h3 mdTooltip="click to change title" >{{notePath}}</h3>

  </section>
<mat-icon id="save-icon" mdTooltip="save" (click)="save()">save</mat-icon>
</section>
<!-- <section [@loadPage]="notePath" *ngIf="false"> -->
<section [@loadPage]="notePath" *ngIf="dbNote">

  <section id="work-wrapper">



      <!-- <mat-card  [style.top]="editorBoxCoords.top+'px'" [style.right]="editorBoxCoords.right+'px'" id="editorbox-card">
        <textarea autofocus #editorbox  id="editorbox" placeholder="insert text here" [formControl]="currentLineFormControl" (keydown)="keyCliked($event, editorbox)"></textarea>
      </mat-card> -->
<!-- (keyup)="updateContents($event,viewer)" keyUp.next($event) -->
      <mat-card id="editor-card">
        <mat-card-content #viewer id="viewer"  contenteditable="true"  (keydown)="keyDownCliked($event)" (keyup)="updateContents($event, viewer)">
          <formatted-line *ngFor="let line of workingLineArry; let i = index;"
            [workingLineData]="line"
            index="{{i}}"
            selected="{{(workingLineIdx==i)?'selected':''}}"
            (onClick)="lineClicked(i)"
          ></formatted-line>
        </mat-card-content>
      </mat-card>








  </section>
</section>

<!-- <section id="editor-wrapper">
  <section id="editor-header">
    <section id="editor-header-left">
      <button (click)="format('bold', $event)">
        <mat-icon >format_bold</mat-icon>
      </button>
      <button (click)="format('italic', $event)">
        <mat-icon >format_italic</mat-icon>
      </button>
      <button (click)="format('underline', $event)">
        <mat-icon >format_underline</mat-icon>
      </button>
    </section>
    <section id="editor-header-right">
      <mat-icon mdTooltip="save" (click)="save()">save</mat-icon>
    </section>

  </section>
  <section #editorBox id="editor-box" contenteditable="true" [innerHTML]="formattedNotes.value | sanitizeHtml" (keyup)="keyUp.next($event)" >
  </section>
</section> -->




<!-- <quill-editor #viewer [readOnly]="true" (onContentChanged)="updateContents($event)">
  <div quill-editor-toolbar>
    <span class="ql-formats">
      <button class="ql-bold" [title]="'Bold'"></button>
      <button class="ql-italic" [title]="'Italic'"></button>
      <button class="ql-underline" [title]="'Underline'"></button>
    </span>
  </div>
</quill-editor> -->
